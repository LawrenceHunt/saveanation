<template name="Target">
  <!-- {{transactionsValue}} -->

  <div class="target-area">
    <h1>Target</h1>
    {{#if targets.count != 0}}

        <h2>You have saved:</h2>
        <p class="current-balance">{{currentBalance}}</p>
        <div class="styled-select slate">
          <select name="date-range" class="date-range">
            <option value="overall">overall</option>
            <option value="month">this month</option>
            <option value="week">this week</option>
            <option value="day">today</option>
          </select>
        </div>

        <style type="text/css">
          .line {
            transform:rotate({{totalInDegrees}});
            animation: pendulum;
            animation-iteration-count: 2;
            animation-duration: 8s;
          }
          @keyframes pendulum {
            0% { transform:rotate(-120deg) }
            25% { transform:rotate({{degreesAbove}}) }
            50% { transform:rotate({{degreesBelow}}) }
            75% { transform:rotate({{totalInDegrees}}) }
          }
        </style>

        <div class="container">
          <div id="tachometer">
            <div class="ii">
              <div><b><span class="num_1"></span></b></div>
              <div><b></b></div>
              <div><b><span class="num_2"></span></b></div>
              <div><b></b></div>
              <div><b><span class="num_3"></span></b></div>
              <div><b></b></div>
              <div><b><span class="num_4"></span></b></div>
              <div><b></b></div>
              <div><b><span class="num_5"></span></b></div>
              <div><b></b></div>
              <div><b><span class="num_6"></span></b></div>
              <div><b></b></div>
              <div><b><span class="num_7"></span></b></div>
              <div><b></b></div>
              <div><b><span class="num_8"></span></b></div>
              <div><b></b></div>
              <div><b><span class="num_9"></span></b></div>
            </div>
            <div class="line"></div>
            <div class="pin">
              <div class="inner"></div>
            </div>
          </div>
        </div>

        <h2>You have achieved {{percentageOfTotal}}% of your overall target of </h2>
        <p class="goal">{{ targetAmount }}</p>
        <p>which you're aiming to save by {{ targetDate }}.</p>

        <!-- <h3> You still need to save: {{stillToSave}}</h3> -->
        <!-- <a href="/edit-target" class="edit-target">Edit Target</a> -->
        <!-- We'll need to make edit work using a button, for styling consistency -->
        <button class="edit-target" name="{{ _id }}">Edit Target</button>
        <button class="delete-target" name="{{ _id }}">Delete Target</button>

    {{else}}
      <h2>Enter a target</h2>
      <form class="new-target">
        <input type="text" class="targetAmount" name="targetAmount" placeholder="Target amount" required/>
        <input type="date" class="targetDate" name="targetDate" placeholder="Target complete" required/>
        <button type="button" class="calculate">Calculate</button>
        <button type="submit">Submit</button>
      </form>
      <p>Your Current Balance is: {{currentBalance}}</p>
      <p>{{ targetSummary }}</p>
      <p>{{ monthlyTarget }}</p>
      <p>{{ weeklyTarget }}</p>
      <p>{{ dailyTarget }}</p>

    {{/if}}
  </div>
</template>

<template name="EditTarget">
    <h3>Edit your target</h3>
    <form class="edit-target">
      <input type="text" name="targetAmount" placeholder="Target amount" value="{{ targetAmount }}" required/>
      <input type="date" name="targetDate" placeholder="Target complete" value="{{ targetDate }}" required/>
      <button type="submit">Submit</button>
    </form>
</template>

<template name="TargetSummary">
    <h3>Your target</h3>
    {{#if targets.count != 0}}
      <h3>Your target</h3>
      {{#each targets}}
        <p>You want to save Â£{{ targetAmount }} by {{ targetDate }}</p>
        <button class="delete-target" name="{{ _id }}">Delete Target</button>
        <a href="/edit-target" class="edit-target">Edit Target</a>
      {{/each}}
    {{/if}}

    <p>{{ targetSummary }}</p>
    <p>{{ monthlyTarget }}</p>
    <p>{{ weeklyTarget }}</p>
    <p>{{ dailyTarget }}</p>

</template>
